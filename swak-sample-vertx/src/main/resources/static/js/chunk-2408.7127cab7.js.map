{"version":3,"sources":["webpack:///./src/api/system/area.js","webpack:///./src/views/system/area.vue?5a4a","webpack:///src/views/system/area.vue","webpack:///./src/views/system/area.vue?fdb9","webpack:///./src/views/system/area.vue","webpack:///./src/views/system/area.vue?0be9"],"names":["Area","get","id","Object","_fetch__WEBPACK_IMPORTED_MODULE_0__","url","method","list","provinces","citys","save","area","data","delete","__webpack_exports__","render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_m","_l","province","key","class","selected","attrs","clazz","on","link:click","provinceSelect","_s","name","city","staticRenderFns","components","SwakLink","link_link","mounted","$emit","loadProvinces","methods","_this","system_area","then","obj","loadCitys","_this2","e","$a","target","getAttribute","onDelete","_this3","$confirm","confirmButtonText","cancelButtonText","type","res","$notify","title","message","catch","system_areavue_type_script_lang_js_","component","componentNormalizer","options","__file","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_node_modules_css_loader_index_js_ref_11_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_11_oneOf_1_2_node_modules_stylus_loader_index_js_ref_11_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_area_vue_vue_type_style_index_0_id_2be0cdb8_lang_stylus_rel_stylesheet_2Fstylus_scoped_true___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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","file":"js/chunk-2408.7127cab7.js","sourcesContent":["import fetch from '../fetch'\n\n/**\n * Area service\n * @type {{list: function()}}\n */\nconst Area = {\n  get: (id) => fetch({\n    url: '/api/manage/area/get/' + id,\n    method: 'get'\n  }),\n  list: () => fetch({\n    url: '/api/manage/area/areas',\n    method: 'get'\n  }),\n  provinces: () => fetch({\n    url: '/api/manage/area/provinces',\n    method: 'get'\n  }),\n  citys: (id) => fetch({\n    url: '/api/manage/area/citys?province=' + id,\n    method: 'get'\n  }),\n  save: (area) => fetch({\n    url: '/api/manage/area/save',\n    method: 'post',\n    data: area\n  }),\n  delete: (area) => fetch({\n    url: '/api/manage/area/delete',\n    method: 'post',\n    data: area\n  }),\n}\n\nexport default Area","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tax-page area\"},[_c('h4',[_vm._v(\"区域设置\")]),_c('div',{staticClass:\"content\"},[_vm._m(0),_c('div',{staticClass:\"area-settings\"},[_c('div',{staticClass:\"provinces -settings\"},[_c('div',{staticClass:\"-name\"},[_vm._v(\"省\")]),_c('div',{staticClass:\"-items\"},_vm._l((_vm.provinces),function(province){return _c('swak-link',{key:province.id,class:_vm.selected == province.id?'selected':'',attrs:{\"id\":province.id,\"clazz\":\"-item\"},on:{\"link:click\":_vm.provinceSelect}},[_vm._v(_vm._s(province.name)+\"\\n          \")])}))]),_c('div',{staticClass:\"citys -settings\"},[_c('div',{staticClass:\"-name\"},[_vm._v(\"市\")]),_c('div',{staticClass:\"-items\"},_vm._l((_vm.citys),function(city){return _c('swak-link',{key:city.id,attrs:{\"clazz\":\"-item\"}},[_vm._v(_vm._s(city.name))])}))])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"options\"},[_c('span',[_vm._v(\"设置支持的区域\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"tax-page area\">\n    <h4>区域设置</h4>\n    <div class=\"content\">\n      <div class=\"options\">\n        <span>设置支持的区域</span>\n      </div>\n      <div class=\"area-settings\">\n        <div class=\"provinces -settings\">\n          <div class=\"-name\">省</div>\n          <div class=\"-items\">\n            <swak-link @link:click=\"provinceSelect\" :id=\"province.id\" clazz=\"-item\" :class=\"selected == province.id?'selected':''\"\n                       v-for=\"province in provinces\" :key=\"province.id\">{{province.name}}\n            </swak-link>\n          </div>\n        </div>\n        <div class=\"citys -settings\">\n          <div class=\"-name\">市</div>\n          <div class=\"-items\">\n            <swak-link clazz=\"-item\" v-for=\"city in citys\" :key=\"city.id\">{{city.name}}</swak-link>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n\n  import AreaApi from '@/api/system/area'\n  import SwakLink from \"../../ui/components/link/link\";\n\n  export default {\n    components: {SwakLink},\n    name: \"areas\",\n    data() {\n      return {\n        provinces: [],\n        citys: [],\n        selected: ''\n      }\n    },\n    mounted() {\n      this.$emit('layout:load', \"area\");\n      this.loadProvinces();\n    },\n    methods: {\n      loadProvinces: function () {\n        AreaApi.provinces().then(data => {\n          this.provinces = data.obj;\n        })\n      },\n      loadCitys : function(id) {\n        AreaApi.citys(id).then(data => {\n          this.citys = data.obj;\n        })\n      },\n      provinceSelect: function (e) {\n        var $a = e.target;\n        var id = $a.getAttribute(\"id\");\n        this.selected = id;\n        this.loadCitys(id);\n      },\n      onDelete: function (e) {\n        var id = e.target.getAttribute('data-id');\n        this.$confirm(\"确认删除此区域，如果用户已选择此区域，删除会导致用户计税失败\", '确认删除？', {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          type: 'warning'\n        }).then(() => {\n          AreaApi.delete({id: id}).then(res => {\n            this.list()\n            this.$notify({\n              title: '成功',\n              message: '删除成功!',\n              type: 'success'\n            });\n          })\n        }).catch(() => {\n\n        })\n      }\n    }\n  }\n</script>\n\n<style lang=\"stylus\" rel=\"stylesheet/stylus\" scoped>\n  @require \"../../ui/common/stylus/variable.styl\"\n  .area-settings {\n    display flex;\n    .-settings {\n      flex 1;\n      border: 1px solid $color-border;\n      margin-right: 5px;\n      .-name {\n        padding 20px;\n        font-size 20px;\n        background-color $color-border-xxx;\n        border-bottom: 1px solid $color-border;\n      }\n      .-items {\n        height 450px;\n        overflow-y scroll;\n        .-item {\n          display block\n          padding 10px;\n          border-bottom: 1px solid $color-border;\n          &:hover {\n            background-color $color-border-xxx;\n          }\n        }\n        .selected {\n          background-color $color-border-xxx;\n        }\n      }\n    }\n    .citys {\n      margin-right: 0;\n      margin-left: 5px;\n    }\n  }\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./area.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./area.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./area.vue?vue&type=template&id=2be0cdb8&scoped=true&\"\nimport script from \"./area.vue?vue&type=script&lang=js&\"\nexport * from \"./area.vue?vue&type=script&lang=js&\"\nimport style0 from \"./area.vue?vue&type=style&index=0&id=2be0cdb8&lang=stylus&rel=stylesheet%2Fstylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2be0cdb8\",\n  null\n  \n)\n\ncomponent.options.__file = \"area.vue\"\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./area.vue?vue&type=style&index=0&id=2be0cdb8&lang=stylus&rel=stylesheet%2Fstylus&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./area.vue?vue&type=style&index=0&id=2be0cdb8&lang=stylus&rel=stylesheet%2Fstylus&scoped=true&\""],"sourceRoot":""}