{"version":3,"sources":["webpack:///./src/views/func/calculate.vue?cc02","webpack:///./src/api/manage/reportCal.js","webpack:///src/views/func/calculate.vue","webpack:///./src/views/func/calculate.vue?fbc3","webpack:///./src/views/func/calculate.vue","webpack:///./src/views/func/calculate.vue?6956","webpack:///./src/ui/components/upload/multiFile.vue?d6b8","webpack:///src/ui/components/upload/multiFile.vue","webpack:///./src/ui/components/upload/multiFile.vue?81ee","webpack:///./src/ui/components/upload/multiFile.vue","webpack:///./src/ui/components/upload/multiFile.vue?bf3f"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","attrs","type","on","click","openUpload","_m","_l","item","key","id","_s","name","createDate","apiName","state","data-id","$event","stopPropagation","download","_e","doCalculate","reports","length","colspan","visible","multipartFile","file","update:visible","$set","multiFile:update","uploadSuccess","staticRenderFns","scope","width","ReportCals","list","Object","fetch","url","method","xml","responseType","data","cal","reportCal","calculatevue_type_script_lang_js_","components","SwakLink","link_link","MultiUpload","multiFile","shows","loading","accept","action","template","downloadFile","mounted","$emit","loadData","methods","_this","then","res","obj","e","_this2","currentTarget","getAttribute","$notify","success","_this3","decodeURI","fileName","doDownload","error","window","URL","createObjectURL","Blob","link","document","createElement","style","display","href","setAttribute","body","appendChild","func_calculatevue_type_script_lang_js_","component","componentNormalizer","options","__file","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_node_modules_css_loader_index_js_ref_11_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_11_oneOf_1_2_node_modules_stylus_loader_index_js_ref_11_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_calculate_vue_vue_type_style_index_0_id_34243626_lang_stylus_rel_stylesheet_2Fstylus_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","title","before-close","doCancel","drag","headers","params","on-success","doSuccess","slot","multiFilevue_type_script_lang_js_","props","Boolean","default","computed","env","VUE_APP_BASE_URL","X-Token","$store","getters","token","msg","upload_multiFilevue_type_script_lang_js_","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_node_modules_css_loader_index_js_ref_11_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_11_oneOf_1_2_node_modules_stylus_loader_index_js_ref_11_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_multiFile_vue_vue_type_style_index_0_id_aaa0291a_lang_stylus_rel_stylesheet_2Fstylus_scoped_true___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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","file":"js/chunk-391b.e09b22d7.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tax-page tempate\"},[_c('h4',[_vm._v(\"报表计税\")]),_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"options\"},[_c('span',[_vm._v(\"提供报表计税服务：点击“计算”按钮，导入需要计算的报表数据，计算好之后点击下载可以导出计算结果\")]),_c('div',{staticClass:\"btns\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.openUpload}},[_vm._v(\"设置计算任务\")])],1)]),_c('table',{staticClass:\"table sample-table table-bordered table-hover\"},[_vm._m(0),_c('tbody',[_vm._l((_vm.reports),function(item){return _c('tr',{key:item.id},[_c('td',[_vm._v(_vm._s(item.name)+\" - \"+_vm._s(item.createDate)),_c('span',{staticClass:\"td-tip\"},[_vm._v(_vm._s(item.apiName))])]),_c('td',{staticClass:\"td-ops\"},[(item.state ==2)?_c('a',{attrs:{\"data-id\":item.id},on:{\"click\":function($event){$event.stopPropagation();return _vm.download($event)}}},[_vm._v(\"下载\")]):_vm._e(),_c('a',{attrs:{\"data-id\":item.id},on:{\"click\":function($event){$event.stopPropagation();return _vm.doCalculate($event)}}},[_vm._v(\"计算\")])])])}),(_vm.reports.length == 0)?_c('tr',[_c('td',{staticClass:\"td-none\",attrs:{\"colspan\":\"2\"}},[_vm._v(\"还没设置计算任务\")])]):_vm._e()],2)])]),_c('multi-upload',{attrs:{\"visible\":_vm.multipartFile.visible,\"file\":_vm.multipartFile},on:{\"update:visible\":function($event){_vm.$set(_vm.multipartFile, \"visible\", $event)},\"multiFile:update\":_vm.uploadSuccess}})],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"计算任务\")]),_c('th',{attrs:{\"scope\":\"col\",\"width\":\"80\"}},[_vm._v(\"计算结果\")])])])}]\n\nexport { render, staticRenderFns }","import fetch from '../fetch'\n\n/**\n * Subscribe service\n */\nconst ReportCals = {\n  list: (type) => fetch({\n    url: '/api/user/reportcal/list/' + type,\n    method: 'get'\n  }),\n  xml: (id) => fetch({\n    url: '/api/user/reportcal/xml',\n    method: 'post',\n    responseType: 'blob',\n    data: {id: id}\n  }),\n  cal: (id) => fetch({\n    url: '/api/user/reportcal/cal',\n    method: 'post',\n    data: {id: id}\n  }),\n};\n\nexport default ReportCals","<template>\n  <div class=\"tax-page tempate\">\n    <h4>报表计税</h4>\n    <div class=\"content\">\n      <div class=\"options\">\n        <span>提供报表计税服务：点击“计算”按钮，导入需要计算的报表数据，计算好之后点击下载可以导出计算结果</span>\n        <div class=\"btns\">\n          <el-button type=\"primary\" @click=\"openUpload\">设置计算任务</el-button>\n        </div>\n      </div>\n      <table class=\"table sample-table table-bordered table-hover\">\n        <thead>\n        <tr>\n          <th scope=\"col\">计算任务</th>\n          <th scope=\"col\" width=\"80\">计算结果</th>\n        </tr>\n        </thead>\n        <tbody>\n        <tr v-for=\"item in reports\" :key=\"item.id\">\n          <td>{{item.name}} - {{item.createDate}}<span class=\"td-tip\">{{item.apiName}}</span></td>\n          <td class=\"td-ops\">\n            <a :data-id=\"item.id\" v-if=\"item.state ==2\" @click.stop=\"download\">下载</a>\n            <a :data-id=\"item.id\" @click.stop=\"doCalculate\">计算</a>\n          </td>\n        </tr>\n        <tr v-if=\"reports.length == 0\">\n          <td colspan=\"2\" class=\"td-none\">还没设置计算任务</td>\n        </tr>\n        </tbody>\n      </table>\n    </div>\n    \n    <multi-upload :visible.sync=\"multipartFile.visible\" :file=\"multipartFile\"\n                  @multiFile:update=\"uploadSuccess\"></multi-upload>\n  </div>\n</template>\n\n<script>\n  import ReportCals from '@/api/manage/reportCal';\n  import MultiUpload from \"../../ui/components/upload/multiFile\";\n  import SwakLink from \"../../ui/components/link/link\";\n\n  export default {\n    components: {\n      SwakLink,\n      MultiUpload,\n    },\n    name: \"calculate\",\n    data() {\n      return {\n        type: 'COMPUTE_TAX',\n        reports: [],\n        shows: false,\n        multipartFile: {\n          loading: false,\n          visible: false,\n          accept: '.xml',\n          action: '/api/user/reportcal/save?apiIdent=COMPUTE_TAX',\n          template: ''\n        },\n        downloadFile: {\n          loading: false,\n          visible: false,\n        }\n      }\n    },\n    mounted() {\n      this.$emit('layout:load', \"calculate\")\n      this.loadData();\n    },\n    methods: {\n      loadData: function () {\n        ReportCals.list(this.type).then(res => {\n          this.reports = res.obj;\n        })\n      },\n      openUpload: function () {\n        this.multipartFile.loading = true;\n        this.multipartFile.visible = true;\n      },\n      uploadSuccess: function () {\n        this.loadData();\n      },\n      doCalculate: function (e) {\n        var id = e.currentTarget.getAttribute(\"data-id\");\n        ReportCals.cal(id).then(() => {\n          this.$notify.success(\"计算成功\")\n        })\n      },\n      download: function (e) {\n        var id = e.currentTarget.getAttribute(\"data-id\");\n        this.downloadFile.visible = true\n        ReportCals.xml(id).then(res => {\n          this.downloadFile.visible = false\n          this.downloadFile.name = decodeURI(res.fileName)\n          this.downloadFile.data = res.data\n          this.doDownload();\n        }, () => {\n          this.$notify.error(\"error!\")\n        })\n      },\n      doDownload: function () {\n        let url = window.URL.createObjectURL(new Blob([this.downloadFile.data]))\n        let link = document.createElement('a')\n        link.style.display = 'none'\n        link.href = url\n        link.setAttribute('download', this.downloadFile.name)\n        document.body.appendChild(link)\n        link.click()\n      }\n    }\n  }\n</script>\n\n<style lang=\"stylus\" rel=\"stylesheet/stylus\" scoped>\n  @require \"../../ui/common/stylus/variable.styl\"\n  .tempate {\n    .td-tip {\n      color $color-light-grey;\n      margin-left 10px;\n    }\n    .-child {\n      display inline-block;\n      width 25px;\n      height 15px;\n      border-left 1px solid $color-info;\n      border-bottom 1px solid $color-info;\n      margin-top 0;\n      margin-bottom 0;\n      margin-left 10px;\n      margin-right 20px;\n    }\n    .tr-none {\n      color $color-light-grey;\n    }\n    .show-more {\n      padding 10px 0;\n      display block;\n      color $color-primary;\n      font-size 14px;\n      cursor pointer;\n    }\n  }\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./calculate.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./calculate.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./calculate.vue?vue&type=template&id=34243626&scoped=true&\"\nimport script from \"./calculate.vue?vue&type=script&lang=js&\"\nexport * from \"./calculate.vue?vue&type=script&lang=js&\"\nimport style0 from \"./calculate.vue?vue&type=style&index=0&id=34243626&lang=stylus&rel=stylesheet%2Fstylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"34243626\",\n  null\n  \n)\n\ncomponent.options.__file = \"calculate.vue\"\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./calculate.vue?vue&type=style&index=0&id=34243626&lang=stylus&rel=stylesheet%2Fstylus&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./calculate.vue?vue&type=style&index=0&id=34243626&lang=stylus&rel=stylesheet%2Fstylus&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"user-table-select\"},[_c('el-dialog',{attrs:{\"title\":\"文件上传\",\"visible\":_vm.visible,\"before-close\":_vm.doCancel},on:{\"update:visible\":function($event){_vm.visible=$event}}},[_c('div',{staticClass:\"multi-file\"},[_c('el-upload',{staticClass:\"upload-demo\",attrs:{\"drag\":\"\",\"accept\":_vm.file.accept,\"action\":_vm.action,\"headers\":_vm.headers,\"data\":_vm.params,\"on-success\":_vm.doSuccess}},[_c('i',{staticClass:\"el-icon-upload\"}),_c('div',{staticClass:\"el-upload__text\"},[_vm._v(\"将文件拖到此处，或\"),_c('em',[_vm._v(\"点击上传\")])]),_c('div',{staticClass:\"el-upload__tip\",attrs:{\"slot\":\"tip\"},slot:\"tip\"},[_vm._v(\"只能上传\"+_vm._s(_vm.file.accept)+\"文件\")])])],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"user-table-select\">\n    <el-dialog\n        title=\"文件上传\"\n        :visible.sync=\"visible\"\n        :before-close=\"doCancel\">\n      <div class=\"multi-file\">\n        <el-upload\n            class=\"upload-demo\"\n            drag\n            :accept=\"file.accept\"\n            :action=\"action\"\n            :headers=\"headers\"\n            :data=\"params\"\n            :on-success=\"doSuccess\">\n          <i class=\"el-icon-upload\"></i>\n          <div class=\"el-upload__text\">将文件拖到此处，或<em>点击上传</em></div>\n          <div class=\"el-upload__tip\" slot=\"tip\">只能上传{{file.accept}}文件</div>\n        </el-upload>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\n  import {env} from '@/env'\n\n  export default {\n    name: \"multi-upload\",\n    props: {\n      visible: {\n        type: Boolean,\n        default: false\n      },\n      file: {\n        type: Object,\n        default: null\n      }\n    },\n    computed: {\n      action: function () {\n        return env.VUE_APP_BASE_URL + this.file.action;\n      },\n      headers: function () {\n        return {\n          'X-Token': this.$store.getters.token\n        }\n      },\n      params: function () {\n        return {\n          template: this.file.template\n        }\n      }\n    },\n    methods: {\n      doCancel: function () {\n        this.$emit('update:visible', false)\n      },\n      doSuccess: function (res) {\n        if (res.success) {\n          this.$notify.success(\"上传成功\");\n          this.$emit('multiFile:update', false)\n        } else {\n          this.$notify.error(res.msg);\n        }\n      }\n    }\n  }\n</script>\n\n<style lang=\"stylus\" rel=\"stylesheet/stylus\" scoped>\n  @require \"../../common/stylus/variable.styl\"\n  .multi-file {\n    text-align center\n  }\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./multiFile.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./multiFile.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./multiFile.vue?vue&type=template&id=aaa0291a&scoped=true&\"\nimport script from \"./multiFile.vue?vue&type=script&lang=js&\"\nexport * from \"./multiFile.vue?vue&type=script&lang=js&\"\nimport style0 from \"./multiFile.vue?vue&type=style&index=0&id=aaa0291a&lang=stylus&rel=stylesheet%2Fstylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"aaa0291a\",\n  null\n  \n)\n\ncomponent.options.__file = \"multiFile.vue\"\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js??ref--11-oneOf-1-2!../../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./multiFile.vue?vue&type=style&index=0&id=aaa0291a&lang=stylus&rel=stylesheet%2Fstylus&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js??ref--11-oneOf-1-2!../../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./multiFile.vue?vue&type=style&index=0&id=aaa0291a&lang=stylus&rel=stylesheet%2Fstylus&scoped=true&\""],"sourceRoot":""}