(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ca53"],{"3d93":function(a,e,t){"use strict";var s=t("882e"),l=t.n(s);l.a},"74ad":function(a,e,t){"use strict";var s=t("e1d2"),l={get:function(a){return Object(s["a"])({url:"/api/manage/salary/get/"+a,method:"get"})},list:function(){return Object(s["a"])({url:"/api/manage/salary/list",method:"get"})},save:function(a){return Object(s["a"])({url:"/api/manage/salary/save",method:"post",data:a})},delete:function(a){return Object(s["a"])({url:"/api/manage/salary/delete",method:"post",data:a})},types:function(){return Object(s["a"])({url:"/api/manage/salary/types",method:"get"})},sort:function(a){return Object(s["a"])({url:"/api/manage/salary/sort",method:"post",data:{json_salary:a}})}};e["a"]=l},"882e":function(a,e,t){},af57:function(a,e,t){"use strict";t.r(e);var s=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{staticClass:"tax-page tax-subject-cfg"},[t("h4",[a._v("薪酬项目"),t("span",[a._v("/")]),a._v(a._s(a.salary.id?"修改项目":"添加项目"))]),t("div",{staticClass:"content"},[t("el-form",{ref:"inputForm",attrs:{model:a.salary,rules:a.rules,"label-width":"120px"}},[t("el-form-item",{attrs:{label:"薪酬项目",prop:"name"}},[t("el-input",{attrs:{placeholder:"请输入薪酬项目名称"},model:{value:a.salary.name,callback:function(e){a.$set(a.salary,"name",e)},expression:"salary.name"}}),t("div",{staticClass:"form-tip"},[a._v("请设置合理的项目名称，设置后不建议修改.")])],1),t("el-form-item",{attrs:{label:"项目类型",prop:"salaryType"}},[t("el-select",{attrs:{filterable:"",placeholder:"请选择"},on:{change:a.changeType},model:{value:a.salary.salaryType,callback:function(e){a.$set(a.salary,"salaryType",e)},expression:"salary.salaryType"}},a._l(a.types,function(a){return t("el-option",{key:a.value,attrs:{label:a.label,value:a.value}})})),t("div",{staticClass:"form-tip"},[a._v("项目类型说明这个项目的主要性质和数据来源.")])],1),t("el-form-item",{attrs:{label:"个税项目",prop:"payItemName"}},[t("el-input",{attrs:{placeholder:"请输入选择个税项目",clearable:""},on:{clear:a.deletePays},model:{value:a.salary.payItemName,callback:function(e){a.$set(a.salary,"payItemName",e)},expression:"salary.payItemName"}},[t("template",{slot:"append"},[t("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:a.selectPays}})],1)],2),t("div",{staticClass:"form-tip"},[a._v("请选择对应的个税项目.")])],1),t("el-form-item",{attrs:{label:"薪酬项目枚举",prop:"salarys"}},[t("el-input",{attrs:{type:"textarea",rows:"5",placeholder:"请输入薪酬项目枚举"},model:{value:a.salary.salarys,callback:function(e){a.$set(a.salary,"salarys",e)},expression:"salary.salarys"}}),t("div",{staticClass:"form-tip"},[a._v("枚举同意义的薪酬项目，或者说明薪酬项目的意义.")])],1),t("el-form-item",{attrs:{label:"薪酬项目描述",prop:"descs"}},[t("el-input",{attrs:{type:"textarea",rows:"5",placeholder:"请输入薪酬项目描述"},model:{value:a.salary.descs,callback:function(e){a.$set(a.salary,"descs",e)},expression:"salary.descs"}}),t("div",{staticClass:"form-tip"},[a._v("薪酬项目描述, 描述此薪酬项目的意义.")])],1),t("el-form-item",[t("el-button",{attrs:{type:"primary",loading:a.saveing},on:{click:a.save}},[a._v("提交")]),t("swak-link",{staticClass:"el-button",attrs:{to:"/system/salaryitem"}},[a._v("返回")])],1)],1)],1),t("el-dialog",{attrs:{title:"选择个税项目",visible:a.dialogVisible,"before-close":a.addPayCancel},on:{"update:visible":function(e){a.dialogVisible=e}}},[t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:a.loading,expression:"loading"}],ref:"paysGrid",attrs:{data:a.pays,border:"","highlight-current-row":""},on:{"current-change":a.handlePayChange}},[t("el-table-column",{attrs:{property:"name",label:"个税项目名称"}}),t("el-table-column",{attrs:{property:"includeTypeName",label:"个税项目类型"}})],1)],1)],1)},l=[],r=(t("a481"),t("7f7f"),t("74ad")),n=t("c538"),i={components:{},name:"tax-subject-cfg",data:function(){return{salary:{},pays:[],types:[],dialogVisible:!1,loading:!1,rules:{name:[{required:!0,message:"请输入项目名称",trigger:"blur"}],salaryType:[{required:!0,message:"请输入项目类型",trigger:"blur"}]}}},mounted:function(){this.$emit("layout:load","salaryitem");var a=this.$route.params.id;this.loadTypes(),this.loadSalary(a)},methods:{loadTypes:function(){var a=this;r["a"].types().then(function(e){a.types=e.obj})},changeType:function(a){},loadSalary:function(a){var e=this;a&&r["a"].get(a).then(function(a){e.salary=a.obj||{},e.salary.payItemName=e.salary.payItem?e.salary.payItem.name:""})},deletePays:function(){console.log(1),this.salary.payItemId="",this.salary.payItemName=""},selectPays:function(){var a=this;this.dialogVisible=!0,this.loading=!0,n["a"].list().then(function(e){a.pays=e.obj,a.loading=!1})},addPayCancel:function(){this.dialogVisible=!1,this.loading=!0},handlePayChange:function(a){null!=a&&(this.salary.payItemId=a.id,this.salary.payItemName=a.name,this.addPayCancel())},save:function(){var a=this;this.$refs["inputForm"].validate(function(e){e?(a.saveing=!0,r["a"].save(a.salary).then(function(e){a.$router.replace("/system/salaryitem"),a.$notify.success("保存项目成功!")})):a.$notify.error("表单错误")})}}},o=i,c=(t("3d93"),t("2877")),p=Object(c["a"])(o,s,l,!1,null,"dab1dae4",null);p.options.__file="salaryitemCfg.vue";e["default"]=p.exports},c538:function(a,e,t){"use strict";var s=t("e1d2"),l={get:function(a){return Object(s["a"])({url:"/api/manage/payItem/get/"+a,method:"get"})},list:function(){return Object(s["a"])({url:"/api/manage/payItem/list",method:"get"})},save:function(a){return Object(s["a"])({url:"/api/manage/payItem/save",method:"post",data:a})}};e["a"]=l}}]);
//# sourceMappingURL=chunk-ca53.33973dba.js.map