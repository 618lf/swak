(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7233"],{"040b":function(t,e,i){"use strict";var a=i("1f6e"),l=i.n(a);l.a},"0bce":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"tax-page tempate"},[i("h4",[t._v("计税小工具")]),i("div",{staticClass:"content"},[t._m(0),i("table",{staticClass:"table sample-table table-bordered table-hover"},[t._m(1),i("tbody",t._l(t.templates,function(e){return i("tr",{key:e.id},[i("td",[i("span",[t._v(t._s(e.templateName))])]),i("td",{staticClass:"td-ops"},[e.id?i("swak-link",{attrs:{to:"/func/template/cfg/"+e.id}},[t._v("配置")]):i("swak-link",{attrs:{to:"/func/template/add?type="+e.templeteType}},[t._v("配置")]),e.id?i("swak-link",{on:{"link:click":function(i){t.downloadExcel(e.id)}}},[t._v("下载模板")]):t._e(),e.id?i("swak-link",{on:{"link:click":function(i){t.openUpload(e.id)}}},[t._v("导入计算")]):t._e()],1)])}))])]),i("multi-upload",{attrs:{visible:t.multipartFile.visible,file:t.multipartFile},on:{"update:visible":function(e){t.$set(t.multipartFile,"visible",e)},"multiFile:update":t.uploadSuccess}})],1)},l=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"options"},[i("span",[t._v("可以计算劳务报酬、稿酬所得、特权使用费等报表,点击配置自定义模板")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("thead",[i("tr",[i("th",{attrs:{scope:"col"}},[t._v("模板名称")]),i("th",{attrs:{scope:"col",width:"250"}},[t._v("操作")])])])}],n=(i("7f7f"),i("cadf"),i("551c"),i("097d"),i("882d")),o=i("9c18"),s=i("d188"),u=i("b0fa"),c={components:{ElButton:s["a"],SwakLink:n["a"],MultiUpload:u["a"]},name:"tools",data:function(){return{templates:[],shows:!1,multipartFile:{loading:!1,visible:!1,template:null,accept:".xls,.xlsx",action:"/api/user/reportcal/save?apiIdent=COMPUTE_TAX"}}},mounted:function(){this.$emit("layout:load","tools"),this.loadTemplates()},methods:{loadTemplates:function(){var t=this;o["a"].tools().then(function(e){t.templates=e.obj})},downloadExcel:function(t){var e=this;o["a"].excelOne(t).then(function(t){e.multipartFile.name=decodeURI(t.fileName),e.multipartFile.data=t.data,e.doDownload()},function(){e.$notify.error("error!")})},doDownload:function(){var t=window.URL.createObjectURL(new Blob([this.multipartFile.data])),e=document.createElement("a");e.style.display="none",e.href=t,e.setAttribute("download",this.multipartFile.name),document.body.appendChild(e),e.click()},openUpload:function(t){this.multipartFile.loading=!0,this.multipartFile.visible=!0,this.multipartFile.template=t},uploadSuccess:function(){}}},r=c,d=(i("040b"),i("2877")),p=Object(d["a"])(r,a,l,!1,null,"b03b3910",null);p.options.__file="tools.vue";e["default"]=p.exports},"1f6e":function(t,e,i){},"256c":function(t,e,i){},"9c18":function(t,e,i){"use strict";var a=i("e1d2"),l={list:function(){return Object(a["a"])({url:"/api/user/template/list",method:"get"})},tools:function(){return Object(a["a"])({url:"/api/user/template/tools",method:"get"})},def:function(t){return Object(a["a"])({url:"/api/user/template/def?type="+t,method:"get"})},get:function(t){return Object(a["a"])({url:"/api/user/template/get/"+t,method:"get"})},save:function(t){return Object(a["a"])({url:"/api/user/template/save",method:"post",data:t})},forceSave:function(t){return Object(a["a"])({url:"/api/user/template/forceSave",method:"post",data:t})},xml:function(){return Object(a["a"])({url:"/api/user/template/xml",method:"post",responseType:"blob",data:{}})},excel:function(){return Object(a["a"])({url:"/api/user/template/excel",method:"post",responseType:"blob"})},excelOne:function(t){return Object(a["a"])({url:"/api/user/template/excel/"+t,method:"post",responseType:"blob"})}};e["a"]=l},b0fa:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"user-table-select"},[i("el-dialog",{attrs:{title:"文件上传",visible:t.visible,"before-close":t.doCancel},on:{"update:visible":function(e){t.visible=e}}},[i("div",{staticClass:"multi-file"},[i("el-upload",{staticClass:"upload-demo",attrs:{drag:"",accept:t.file.accept,action:t.action,headers:t.headers,data:t.params,"on-success":t.doSuccess}},[i("i",{staticClass:"el-icon-upload"}),i("div",{staticClass:"el-upload__text"},[t._v("将文件拖到此处，或"),i("em",[t._v("点击上传")])]),i("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传"+t._s(t.file.accept)+"文件")])])],1)])],1)},l=[],n=i("8c89"),o={name:"multi-upload",props:{visible:{type:Boolean,default:!1},file:{type:Object,default:null}},computed:{action:function(){return n["a"].VUE_APP_BASE_URL+this.file.action},headers:function(){return{"X-Token":this.$store.getters.token}},params:function(){return{template:this.file.template}}},methods:{doCancel:function(){this.$emit("update:visible",!1)},doSuccess:function(t){t.success?(this.$notify.success("上传成功"),this.$emit("multiFile:update",!1)):this.$notify.error(t.msg)}}},s=o,u=(i("ff56"),i("2877")),c=Object(u["a"])(s,a,l,!1,null,"aaa0291a",null);c.options.__file="multiFile.vue";e["a"]=c.exports},d188:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("button",{staticClass:"el-button",class:[t.type?"el-button--"+t.type:"",t.buttonSize?"el-button--"+t.buttonSize:"",{"is-disabled":t.buttonDisabled,"is-loading":t.loading,"is-plain":t.plain,"is-round":t.round,"is-circle":t.circle}],attrs:{disabled:t.buttonDisabled||t.loading,autofocus:t.autofocus,type:t.nativeType},on:{click:t.handleClick}},[t.loading?i("i",{staticClass:"el-icon-loading"}):t._e(),t.icon&&!t.loading?i("i",{class:t.icon}):t._e(),t.$slots.default?i("span",[t._t("default")],2):t._e()])},l=[],n={name:"ElButton",inject:{elForm:{default:""},elFormItem:{default:""}},props:{type:{type:String,default:"default"},size:String,icon:{type:String,default:""},nativeType:{type:String,default:"button"},loading:Boolean,disabled:Boolean,plain:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean},computed:{_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},buttonSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},buttonDisabled:function(){return this.disabled||(this.elForm||{}).disabled}},methods:{handleClick:function(t){this.$emit("click",t)}}},o=n,s=i("2877"),u=Object(s["a"])(o,a,l,!1,null,null,null);u.options.__file="button.vue";e["a"]=u.exports},ff56:function(t,e,i){"use strict";var a=i("256c"),l=i.n(a);l.a}}]);
//# sourceMappingURL=chunk-7233.c8996d54.js.map