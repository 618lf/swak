(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6c1d"],{"0671":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tax-page tax-subject-cfg"},[a("h4",[e._v("个税项目"),a("span",[e._v("/")]),e._v(e._s(e.payitem.name||"正常工作时间工资"))]),a("div",{staticClass:"content"},[a("el-form",{ref:"inputForm",attrs:{model:e.payitem,rules:e.rules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"项目名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入项目名称"},model:{value:e.payitem.name,callback:function(t){e.$set(e.payitem,"name",t)},expression:"payitem.name"}}),a("div",{staticClass:"form-tip"},[e._v("请设置合理的项目名称，设置后不建议修改.")])],1),a("el-form-item",{attrs:{label:"项目类型"}},[a("div",{staticClass:"types"},e._l(e.labels,function(t){return a("a",{key:t,class:t==e.payitem.includeTypeName?"cur":""},[e._v(e._s(t))])})),a("div",{staticClass:"form-tip"},[e._v("个税项目所属的类型，不能修改")])]),a("el-form-item",{attrs:{label:"免税/费用/应税表达式",prop:"incomeExpression"}},[a("el-input",{attrs:{placeholder:"请输入免税/费用/应税表达式"},model:{value:e.payitem.incomeExpression,callback:function(t){e.$set(e.payitem,"incomeExpression",t)},expression:"payitem.incomeExpression"}}),a("div",{staticClass:"form-tip"},[e._v("全额列入不用填写；差额列入请填入免税的标准；单独计税的项目填入免税（费用）的计算表达式； 三险一金和年金填入应税部分")])],1),a("el-form-item",{attrs:{label:"收入额表达式",prop:"taxAbleExpression"}},[a("el-input",{attrs:{placeholder:"请输入收入额表达式"},model:{value:e.payitem.taxAbleExpression,callback:function(t){e.$set(e.payitem,"taxAbleExpression",t)},expression:"payitem.taxAbleExpression"}}),a("div",{staticClass:"form-tip"},[e._v("默认是：应税 - 免税（费用）- 其他；稿酬减按百分之七十")])],1),a("el-form-item",{attrs:{label:"工作时长表达式",prop:"workDurationExpression"}},[a("el-input",{attrs:{placeholder:"请输入工作时长表达式"},model:{value:e.payitem.workDurationExpression,callback:function(t){e.$set(e.payitem,"workDurationExpression",t)},expression:"payitem.workDurationExpression"}}),a("div",{staticClass:"form-tip"},[e._v("有些项目需要按照工作时间来计算所得税，需要配置项目参数.")])],1),a("el-form-item",{attrs:{label:"税率表达式",prop:"taxRateExpression"}},[a("el-input",{attrs:{placeholder:"请输入税率表达式"},model:{value:e.payitem.taxRateExpression,callback:function(t){e.$set(e.payitem,"taxRateExpression",t)},expression:"payitem.taxRateExpression"}}),a("div",{staticClass:"form-tip"},[e._v("默认根据所得查找工资薪金税率表，单独计算税额的项目才会用到.")])],1),a("el-form-item",{attrs:{label:"税额计算表达式",prop:"taxCalExpression"}},[a("el-input",{attrs:{placeholder:"请输入税额计算表达式"},model:{value:e.payitem.taxCalExpression,callback:function(t){e.$set(e.payitem,"taxCalExpression",t)},expression:"payitem.taxCalExpression"}}),a("div",{staticClass:"form-tip"},[e._v("所得*税金-速算扣除数，单独计算税额的项目才会用到.")])],1),a("el-form-item",{attrs:{label:"项目参数"}},[a("table",{staticClass:"table sample-table table-bordered table-hover"},[a("thead",[a("tr",[a("th",{attrs:{scope:"col"}},[e._v("参数名称")]),a("th",{attrs:{scope:"col"}},[e._v("参数标识")]),a("th",{attrs:{scope:"col"}},[e._v("数据来源")]),a("th",{attrs:{scope:"col"}},[e._v("默认数值")]),a("th",{attrs:{scope:"col"}},[e._v("默认描述")]),a("th",{attrs:{scope:"col",width:"40"}},[e._v("操作")])])]),a("tbody",e._l(e.payitem.params,function(t,s){return a("tr",{key:t.id},[a("td",[a("el-input",{attrs:{placeholder:"请输入参数名称"},model:{value:t.paramName,callback:function(a){e.$set(t,"paramName",a)},expression:"p.paramName"}})],1),a("td",[a("el-input",{attrs:{placeholder:"请输入参数标识"},model:{value:t.paramCode,callback:function(a){e.$set(t,"paramCode",a)},expression:"p.paramCode"}})],1),a("td",[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.paramType,callback:function(a){e.$set(t,"paramType",a)},expression:"p.paramType"}},e._l(e.paramSources,function(e){return a("el-option",{key:e.name,attrs:{label:e.label,value:e.name}})}))],1),a("td",[a("el-input",{attrs:{placeholder:"请输入参数数值"},model:{value:t.paramValue,callback:function(a){e.$set(t,"paramValue",a)},expression:"p.paramValue"}})],1),a("td",[a("el-input",{attrs:{placeholder:"请输入参数描述"},model:{value:t.paramDesc,callback:function(a){e.$set(t,"paramDesc",a)},expression:"p.paramDesc"}})],1),a("td",{staticClass:"td-ops"},[a("a",{on:{click:function(t){t.stopPropagation(),e.addParam(s)}}},[e._v("添加")]),a("a",{on:{click:function(t){t.stopPropagation(),e.delParam(s)}}},[e._v("删除")])])])}))]),a("div",{staticClass:"form-tip"},[e._v("参数标识可以用到上面的表达式中参与计算,如果选择参数配置，请设置参数标识和参数配置中一致。如果时员工属性，请设置为员工的相应属性.")])]),a("el-form-item",{attrs:{label:"税法描述",prop:"subjectDesc"}},[a("el-input",{attrs:{type:"textarea",row:4,placeholder:"请输入税法描述"},model:{value:e.payitem.subjectDesc,callback:function(t){e.$set(e.payitem,"subjectDesc",t)},expression:"payitem.subjectDesc"}}),a("div",{staticClass:"form-tip"},[e._v("简单描述此个税项目的用途和税法解释.")])],1),a("el-form-item",{attrs:{label:"税法依据",prop:"subjectTax"}},[a("el-input",{attrs:{type:"textarea",row:5,placeholder:"请输入税法依据"},model:{value:e.payitem.subjectTax,callback:function(t){e.$set(e.payitem,"subjectTax",t)},expression:"payitem.subjectTax"}}),a("div",{staticClass:"form-tip"},[e._v("填入法律法规的文件或链接.")])],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",loading:e.saveing},on:{click:e.save}},[e._v("提交")]),a("swak-link",{staticClass:"el-button",attrs:{to:"/system/taxitem"}},[e._v("返回")])],1)],1)],1)])},i=[],l=(a("7f7f"),a("c538")),o=a("882d"),n=a("d188"),r={components:{ElButton:n["a"],SwakLink:o["a"]},name:"tax-subject-cfg",data:function(){return{labels:["全额列入","差额列入","单独计算","税后扣除","税前扣除","捐赠扣除","五险一金","企业年金","个人年金","商业健康保险","商业养老保险"],paramSources:[{name:"IMPORT",label:"报表导入"},{name:"CALCULATE",label:"报表计算"},{name:"PARAM",label:"参数配置"},{name:"USER_ATTR",label:"员工属性"}],payitem:{},rules:{name:[{required:!0,message:"请输入项目名称",trigger:"blur"}]},saveing:!1}},mounted:function(){this.$emit("layout:load","taxitem");var e=this.$route.params.id;this.loadPayitem(e)},methods:{loadPayitem:function(e){var t=this;e&&l["a"].get(e).then(function(e){t.payitem=e.obj||{},t.payitem.params=t.payitem.params||[],0==t.payitem.params.length&&t.payitem.params.push({})})},addParam:function(){this.payitem.params.push({})},delParam:function(e){this.payitem.params.splice(e,1),0==this.payitem.params.length&&this.payitem.params.push({})},save:function(){var e=this;this.$refs["inputForm"].validate(function(t){if(t){e.saveing=!0;var a={id:e.payitem.id,name:e.payitem.name,incomeExpression:e.payitem.incomeExpression,taxRateExpression:e.payitem.taxRateExpression,taxCalExpression:e.payitem.taxCalExpression,workDurationExpression:e.payitem.workDurationExpression,subjectDesc:e.payitem.subjectDesc,subjectTax:e.payitem.subjectTax,json_params:JSON.stringify(e.payitem.params)};l["a"].save(a).then(function(t){e.$notify.success("保存项目成功!"),e.saveing=!1})}else e.$notify.error("表单错误")})}}},p=r,c=(a("93c3"),a("2877")),m=Object(c["a"])(p,s,i,!1,null,"61f64dc4",null);m.options.__file="taxitemCfg.vue";t["default"]=m.exports},"93c3":function(e,t,a){"use strict";var s=a("de42"),i=a.n(s);i.a},c538:function(e,t,a){"use strict";var s=a("e1d2"),i={get:function(e){return Object(s["a"])({url:"/api/manage/payItem/get/"+e,method:"get"})},list:function(){return Object(s["a"])({url:"/api/manage/payItem/list",method:"get"})},save:function(e){return Object(s["a"])({url:"/api/manage/payItem/save",method:"post",data:e})}};t["a"]=i},d188:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("button",{staticClass:"el-button",class:[e.type?"el-button--"+e.type:"",e.buttonSize?"el-button--"+e.buttonSize:"",{"is-disabled":e.buttonDisabled,"is-loading":e.loading,"is-plain":e.plain,"is-round":e.round,"is-circle":e.circle}],attrs:{disabled:e.buttonDisabled||e.loading,autofocus:e.autofocus,type:e.nativeType},on:{click:e.handleClick}},[e.loading?a("i",{staticClass:"el-icon-loading"}):e._e(),e.icon&&!e.loading?a("i",{class:e.icon}):e._e(),e.$slots.default?a("span",[e._t("default")],2):e._e()])},i=[],l={name:"ElButton",inject:{elForm:{default:""},elFormItem:{default:""}},props:{type:{type:String,default:"default"},size:String,icon:{type:String,default:""},nativeType:{type:String,default:"button"},loading:Boolean,disabled:Boolean,plain:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean},computed:{_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},buttonSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},buttonDisabled:function(){return this.disabled||(this.elForm||{}).disabled}},methods:{handleClick:function(e){this.$emit("click",e)}}},o=l,n=a("2877"),r=Object(n["a"])(o,s,i,!1,null,null,null);r.options.__file="button.vue";t["a"]=r.exports},de42:function(e,t,a){}}]);
//# sourceMappingURL=chunk-6c1d.8acb7f7e.js.map