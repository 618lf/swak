(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3a6f"],{"623b":function(e,t,a){"use strict";var i=a("eeba"),s=a.n(i);s.a},d2b3:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main-content"},[a("div",{staticClass:"title"},[e._v("注册个人帐号")]),a("div",{staticClass:"register-form"},[a("el-form",{ref:"inputForm",attrs:{model:e.manager,rules:e.rules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"微信帐号",prop:"openId"}},[a("div",{staticClass:"manager",class:this.manager.openId?"scaned":""},[a("a",{staticClass:"qrcode",on:{click:function(t){return t.stopPropagation(),e.doMock(t)}}},[a("img",{attrs:{src:this.qrcode}})]),a("div",{staticClass:"user"},[e.manager.headimg?a("div",{staticClass:"headimg"},[a("img",{staticClass:"image",attrs:{src:e.manager.headimg}})]):e.manager.name?a("div",{staticClass:"headimg"},[a("span",{staticClass:"image"},[e._v(e._s(e.manager.name.substring(0,1)))])]):a("div",{staticClass:"headimg"},[a("span",{staticClass:"image"})]),a("div",{staticClass:"name"},[e._v(e._s(e.manager.name))])])]),a("div",{staticClass:"form-tip"},[e._v("用微信扫描二维码")])]),a("el-form-item",{attrs:{prop:"checked"}},[a("el-checkbox",{model:{value:e.manager.checked,callback:function(t){e.$set(e.manager,"checked",t)},expression:"manager.checked"}},[e._v("我同意并遵守《税务公社服务协议》")])],1)],1)],1),a("div",{staticClass:"-btn"},[a("el-button",{attrs:{loading:e.loading,type:"success",disabled:e.disable},on:{click:e.doReqister}},[e._v("注册")])],1)])},s=[],n=(a("a481"),a("7f7f"),a("db0d")),o={name:"persion",data:function(){return{manager:{openId:"",type:2,headimg:"",name:"",userName:""},token:"",qrcode:"",timer:null,loading:!1}},mounted:function(){null!=this.timer&&clearTimeout(this.timer),this.loadQrcode()},computed:{disable:function(){return!this.manager.checked}},methods:{loadQrcode:function(){var e=this;n["a"].qrcode().then(function(t){e.token=t.obj.token,e.qrcode=t.obj.qrcode,e.touchTask()})},touchTask:function(){var e=this;null!=this.timer&&clearTimeout(this.timer),this.timer=setTimeout(function(){e.doTouch()},1e3)},doTouch:function(){var e=this;n["a"].touch(this.token).then(function(t){t.success?e.doRender(t.obj):e.touchTask()})},doRender:function(e){null!=this.timer&&clearTimeout(this.timer),this.manager.openId=e.openId,this.manager.name=e.name,this.manager.userName=e.name,this.manager.headimg=e.headimg},doReqister:function(){var e=this;this.manager.openId?(null!=this.timer&&clearTimeout(this.timer),this.loading=!0,this.$store.dispatch("Reqister",{manager:this.manager,token:this.token}).then(function(t){e.loading=!1,t.success?e.$router.replace("/"):e.$alert(t.msg,"注册失败",{confirmButtonText:"确定"})})):this.$notify.error("请用微信扫描二维码")},doMock:function(){n["a"].doMock(this.token).then(function(e){})}},destroyed:function(){null!=this.timer&&clearTimeout(this.timer)}},r=o,c=(a("623b"),a("2877")),m=Object(c["a"])(r,i,s,!1,null,"7cf73442",null);m.options.__file="person.vue";t["default"]=m.exports},eeba:function(e,t,a){}}]);
//# sourceMappingURL=chunk-3a6f.00d1aca8.js.map