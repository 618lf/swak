{"version":3,"sources":["webpack:///./src/views/system/salaryitem.vue?158b","webpack:///src/views/system/salaryitem.vue","webpack:///./src/views/system/salaryitem.vue?a1b0","webpack:///./src/views/system/salaryitem.vue","webpack:///./src/api/system/salary.js","webpack:///./src/views/system/salaryitem.vue?4f50"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","attrs","to","_m","element","on","end","onEnd","model","value","callback","$$v","salarys","expression","_l","salary","key","id","_s","name","payItem","includeTypeName","descs","data-id","click","$event","stopPropagation","delSalary","length","colspan","_e","staticRenderFns","scope","width","salaryitemvue_type_script_lang_js_","components","SwakLink","link_link","Draggable","vuedraggable_default","a","data","mounted","$emit","loadSaralys","methods","_this","system_salary","list","then","res","obj","e","_this2","target","getAttribute","$confirm","confirmButtonText","cancelButtonText","type","delete","$notify","title","message","catch","_this3","forEach","item","index","sort","push","json","JSON","stringify","success","system_salaryitemvue_type_script_lang_js_","component","Object","componentNormalizer","options","__file","__webpack_exports__","Salary","get","_fetch__WEBPACK_IMPORTED_MODULE_0__","url","method","save","types","json_salary","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_node_modules_css_loader_index_js_ref_11_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_11_oneOf_1_2_node_modules_stylus_loader_index_js_ref_11_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_salaryitem_vue_vue_type_style_index_0_id_28b22c97_lang_stylus_rel_stylesheet_2Fstylus_scoped_true___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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","file":"js/chunk-5e50.0459e76b.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tax-page salary-subject\"},[_c('h4',[_vm._v(\"薪酬项目\")]),_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"options\"},[_c('span',[_vm._v(\"设置薪酬项目，薪酬项目列举了工资中可能会出现的一些项目名称，每个薪酬项目对应一个个税项目，用户看到的是薪酬项目\")]),_c('div',{staticClass:\"btns\"},[_c('swak-link',{staticClass:\"el-button el-button--primary\",attrs:{\"to\":\"/system/salaryitem/add\"}},[_vm._v(\"添加\")])],1)]),_c('table',{staticClass:\"table sample-table table-bordered\"},[_vm._m(0),_c('draggable',{attrs:{\"element\":'tbody'},on:{\"end\":_vm.onEnd},model:{value:(_vm.salarys),callback:function ($$v) {_vm.salarys=$$v},expression:\"salarys\"}},[_vm._l((_vm.salarys),function(salary){return _c('tr',{key:salary.id},[_c('td',[_vm._v(_vm._s(salary.name))]),_c('td',[(salary.payItem)?_c('div',[_c('span',{staticClass:\"type\"},[_vm._v(_vm._s(salary.payItem.includeTypeName))]),_vm._v(_vm._s(salary.payItem.name)+\"\\n            \")]):_c('div',[_vm._v(\"/\")])]),_c('td',[_vm._v(_vm._s(salary.salarys))]),_c('td',[_vm._v(_vm._s(salary.descs))]),_c('td',{staticClass:\"td-ops\"},[_c('swak-link',{staticClass:\"ops\",attrs:{\"to\":'/system/salaryitem/cfg/' + salary.id}},[_vm._v(\"配置\")]),_c('a',{attrs:{\"data-id\":salary.id},on:{\"click\":function($event){$event.stopPropagation();return _vm.delSalary($event)}}},[_vm._v(\"删除\")])],1)])}),(_vm.salarys.length == 0)?_c('tr',[_c('td',{staticClass:\"td-none\",attrs:{\"colspan\":\"5\"}},[_vm._v(\"请添薪酬项目\")])]):_vm._e()],2)],1)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('th',{attrs:{\"scope\":\"col\",\"width\":\"120\"}},[_vm._v(\"薪酬项目\")]),_c('th',{attrs:{\"scope\":\"col\",\"width\":\"150\"}},[_vm._v(\"个税项目\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"同义薪酬项目\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"描述\")]),_c('th',{attrs:{\"scope\":\"col\",\"width\":\"80\"}},[_vm._v(\"配置\")])])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"tax-page salary-subject\">\n    <h4>薪酬项目</h4>\n    <div class=\"content\">\n      <div class=\"options\">\n        <span>设置薪酬项目，薪酬项目列举了工资中可能会出现的一些项目名称，每个薪酬项目对应一个个税项目，用户看到的是薪酬项目</span>\n        <div class=\"btns\">\n          <swak-link to=\"/system/salaryitem/add\" class=\"el-button el-button--primary\">添加</swak-link>\n        </div>\n      </div>\n      <table class=\"table sample-table table-bordered\">\n        <thead>\n        <tr>\n          <th scope=\"col\" width=\"120\">薪酬项目</th>\n          <th scope=\"col\" width=\"150\">个税项目</th>\n          <th scope=\"col\">同义薪酬项目</th>\n          <th scope=\"col\">描述</th>\n          <th scope=\"col\" width=\"80\">配置</th>\n        </tr>\n        </thead>\n        <draggable v-model=\"salarys\" :element=\"'tbody'\" @end=\"onEnd\">\n          <tr v-for=\"salary in salarys\" :key=\"salary.id\">\n            <td>{{salary.name}}</td>\n            <td>\n              <div v-if=\"salary.payItem\"><span class=\"type\">{{salary.payItem.includeTypeName}}</span>{{salary.payItem.name}}\n              </div>\n              <div v-else>/</div>\n            </td>\n            <td>{{salary.salarys}}</td>\n            <td>{{salary.descs}}</td>\n            <td class=\"td-ops\">\n              <swak-link :to=\"'/system/salaryitem/cfg/' + salary.id\" class=\"ops\">配置</swak-link>\n              <a @click.stop=\"delSalary\" :data-id=\"salary.id\">删除</a>\n            </td>\n          </tr>\n          <tr v-if=\"salarys.length == 0\">\n            <td colspan=\"5\" class=\"td-none\">请添薪酬项目</td>\n          </tr>\n        </draggable>\n      </table>\n    </div>\n  </div>\n</template>\n\n<script>\n  import SwakLink from \"../../ui/components/link/link\";\n  import SalaryApi from '@/api/system/salary';\n  import Draggable from 'vuedraggable'\n\n  export default {\n    components: {\n      SwakLink,\n      Draggable\n    },\n    name: \"user\",\n    data() {\n      return {\n        salarys: []\n      }\n    },\n    mounted() {\n      this.$emit('layout:load', \"salaryitem\")\n      this.loadSaralys();\n    },\n    methods: {\n      loadSaralys: function () {\n        SalaryApi.list().then(res => {\n          this.salarys = res.obj || [];\n        })\n      },\n      delSalary: function (e) {\n        var id = e.target.getAttribute(\"data-id\");\n        this.$confirm(\"确认删除此此薪酬项目，如果用户已选择此薪酬项目，删除会导致用户计税失败\", '确认删除？', {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          type: 'warning'\n        }).then(() => {\n          SalaryApi.delete({id: id}).then(res => {\n            this.loadSaralys()\n            this.$notify({\n              title: '成功',\n              message: '删除成功!',\n              type: 'success'\n            });\n          })\n        }).catch(() => {\n\n        })\n      },\n      onEnd: function () {\n        var salary = [];\n        this.salarys.forEach((item, index) => {\n          item.sort = index;\n          salary.push({\n            id: item.id,\n            sort: item.sort\n          })\n        })\n        var json = JSON.stringify(salary)\n        SalaryApi.sort(json).then(res => {\n          this.$notify.success(\"排序成功！\")\n        })\n      }\n    }\n  }\n</script>\n\n<style lang=\"stylus\" rel=\"stylesheet/stylus\" scoped>\n  @require \"../../ui/common/stylus/variable.styl\"\n  .salary-subject {\n    .type {\n      display inline-block;\n      padding 1px 3px;\n      font-size 12px;\n      background-color $color-info;\n      color $color-white;\n      border-radius 4px;\n      margin-right 10px;\n    }\n  }\n  \n  .sortable-chosen {\n    opacity: 0.8;\n  }\n  \n  .sortable-ghost {\n    opacity: 0.5;\n    background: #ddd;\n  }\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./salaryitem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./salaryitem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./salaryitem.vue?vue&type=template&id=28b22c97&scoped=true&\"\nimport script from \"./salaryitem.vue?vue&type=script&lang=js&\"\nexport * from \"./salaryitem.vue?vue&type=script&lang=js&\"\nimport style0 from \"./salaryitem.vue?vue&type=style&index=0&id=28b22c97&lang=stylus&rel=stylesheet%2Fstylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"28b22c97\",\n  null\n  \n)\n\ncomponent.options.__file = \"salaryitem.vue\"\nexport default component.exports","import fetch from '../fetch'\n\n/**\n * salary item service\n */\nconst Salary = {\n  get: (id) => fetch({\n    url: '/api/manage/salary/get/' + id,\n    method: 'get'\n  }),\n  list: () => fetch({\n    url: '/api/manage/salary/list',\n    method: 'get'\n  }),\n  save: (data) => fetch({\n    url: '/api/manage/salary/save',\n    method: 'post',\n    data: data\n  }),\n  delete: (data) => fetch({\n    url: '/api/manage/salary/delete',\n    method: 'post',\n    data: data\n  }),\n  types: () => fetch({\n    url: '/api/manage/salary/types',\n    method: 'get',\n  }),\n  sort: (data) => fetch({\n    url: '/api/manage/salary/sort',\n    method: 'post',\n    data: {'json_salary': data}\n  }),\n};\n\nexport default Salary","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./salaryitem.vue?vue&type=style&index=0&id=28b22c97&lang=stylus&rel=stylesheet%2Fstylus&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./salaryitem.vue?vue&type=style&index=0&id=28b22c97&lang=stylus&rel=stylesheet%2Fstylus&scoped=true&\""],"sourceRoot":""}