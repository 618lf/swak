{"version":3,"sources":["webpack:///./src/views/system/user.vue?8e0d","webpack:///./src/api/system/app.js","webpack:///./src/views/system/user.vue?7632","webpack:///src/views/system/user.vue","webpack:///./src/views/system/user.vue?432e","webpack:///./src/views/system/user.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_node_modules_css_loader_index_js_ref_11_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_11_oneOf_1_2_node_modules_stylus_loader_index_js_ref_11_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_user_vue_vue_type_style_index_0_id_b33824dc_lang_stylus_rel_stylesheet_2Fstylus_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","App","page","user","param","Object","_fetch__WEBPACK_IMPORTED_MODULE_0__","url","method","data","managers","id","__webpack_exports__","render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_m","_l","key","_s","name","createDate","m","substring","attrs","background","layout","total","recordCount","page-size","pageSize","on","current-change","changePage","staticRenderFns","scope","width","uservue_type_script_lang_js_","users","query","mounted","$emit","methods","index","_this","pageIndex","app","then","res","obj","forEach","u","loadManagers","system_uservue_type_script_lang_js_","component","componentNormalizer","options","__file"],"mappings":"uIAAgkBA,EAAA,qDCK1jBC,GACJC,KAAM,SAACC,EAAMC,GAAP,OAAiBC,OAAAC,EAAA,KAAAD,EACrBE,IAAK,uBACLC,OAAQ,OACRC,MAAON,KAAMA,EAAMC,YAErBM,SAAU,SAACC,GAAD,OAAQN,OAAAC,EAAA,KAAAD,EAChBE,IAAK,4BAA8BI,EACnCH,OAAQ,UAIZI,EAAA,iDCjBA,IAAAC,EAAA,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,kBAA4BF,EAAA,MAAAJ,EAAAO,GAAA,UAAAH,EAAA,OAAsCE,YAAA,YAAsBN,EAAAQ,GAAA,GAAAJ,EAAA,SAAwBE,YAAA,kDAA4DN,EAAAQ,GAAA,GAAAJ,EAAA,QAAAJ,EAAAS,GAAAT,EAAA,eAAAX,GAAyD,OAAAe,EAAA,MAAgBM,IAAArB,EAAAQ,KAAYO,EAAA,MAAAJ,EAAAO,GAAAP,EAAAW,GAAAtB,EAAAuB,SAAAR,EAAA,MAAAJ,EAAAO,GAAAP,EAAAW,GAAAtB,EAAAwB,eAAAT,EAAA,KAAAJ,EAAAS,GAAApB,EAAA,kBAAAyB,GAA6H,OAAAV,EAAA,QAAkBE,YAAA,eAAyBN,EAAAO,GAAAP,EAAAW,GAAAG,EAAAF,KAAAG,UAAA,mBAA+CX,EAAA,OAAeE,YAAA,eAAyBF,EAAA,iBAAsBY,OAAOC,WAAA,GAAAC,OAAA,QAAAC,MAAAlB,KAAAX,MAAA8B,YAAAC,YAAApB,KAAAX,MAAAgC,UAAgGC,IAAKC,iBAAAxB,EAAAyB,eAAiC,QAC7wBC,GAAA,WAAoC,IAAA1B,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,YAAsBF,EAAA,QAAAJ,EAAAO,GAAA,mBAAsC,WAAc,IAAAP,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,SAAAA,EAAA,MAAAA,EAAA,MAAqCY,OAAOW,MAAA,MAAAC,MAAA,SAA6B5B,EAAAO,GAAA,UAAAH,EAAA,MAA4BY,OAAOW,MAAA,MAAAC,MAAA,SAA6B5B,EAAAO,GAAA,UAAAH,EAAA,MAA4BY,OAAOW,MAAA,SAAe3B,EAAAO,GAAA,yCCqCxbsB,GACAjB,KAAA,OACAjB,KAFA,WAGA,OACAmC,SACAxC,SACAyC,WAGAC,QATA,WAUA/B,KAAAgC,MAAA,sBACAhC,KAAAb,KAAA,IAEA8C,SACA9C,KAAA,SAAA+C,GAAA,IAAAC,EAAAnC,KACAA,KAAAX,MAAA+C,UAAAF,EACAG,EAAA,KAAAlD,KAAAa,KAAA8B,MAAA9B,KAAAX,OAAAiD,KAAA,SAAAC,GACA,IAAAV,EAAAU,EAAAC,IAAA9C,KACAmC,EAAAY,QAAA,SAAAC,GACAA,EAAA/C,cAEAwC,EAAAN,QACAM,EAAA9C,MAAAkD,EAAAC,IAAAnD,MACA8C,EAAAN,MAAAY,QAAA,SAAAC,GACAP,EAAAQ,aAAAD,QAIAlB,WAAA,SAAAU,GACAlC,KAAAb,KAAA+C,IAEAS,aAAA,SAAAD,GACAL,EAAA,KAAA1C,SAAA+C,EAAA9C,IAAA0C,KAAA,SAAAC,GACAG,EAAA/C,SAAA4C,EAAAC,aCvEoRI,EAAA,0BCQpRC,EAAAvD,OAAAwD,EAAA,KAAAxD,CACAsD,EACA9C,EACA2B,GACA,EACA,KACA,WACA,MAIAoB,EAAAE,QAAAC,OAAA,WACAnD,EAAA,WAAAgD","file":"js/chunk-6d51.ac8814bc.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./user.vue?vue&type=style&index=0&id=b33824dc&lang=stylus&rel=stylesheet%2Fstylus&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./user.vue?vue&type=style&index=0&id=b33824dc&lang=stylus&rel=stylesheet%2Fstylus&scoped=true&\"","import fetch from '../fetch'\n\n/**\n * App service\n */\nconst App = {\n  page: (user, param) => fetch({\n    url: '/api/manage/app/page',\n    method: 'post',\n    data: {user: user, param}\n  }),\n  managers: (id) => fetch({\n    url: '/api/manage/app/managers/' + id,\n    method: 'get',\n  }),\n};\n\nexport default App","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tax-page user\"},[_c('h4',[_vm._v(\"用户管理\")]),_c('div',{staticClass:\"content\"},[_vm._m(0),_c('table',{staticClass:\"table sample-table table-bordered table-hover\"},[_vm._m(1),_c('tbody',_vm._l((_vm.users),function(user){return _c('tr',{key:user.id},[_c('td',[_vm._v(_vm._s(user.name))]),_c('td',[_vm._v(_vm._s(user.createDate))]),_c('td',_vm._l((user.managers),function(m){return _c('span',{staticClass:\"user-image\"},[_vm._v(_vm._s(m.name.substring(0,1)))])}))])}))]),_c('nav',{staticClass:\"pagination\"},[_c('el-pagination',{attrs:{\"background\":\"\",\"layout\":\"pager\",\"total\":this.param.recordCount,\"page-size\":this.param.pageSize},on:{\"current-change\":_vm.changePage}})],1)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"options\"},[_c('span',[_vm._v(\"注册到我们系统的用户\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('th',{attrs:{\"scope\":\"col\",\"width\":\"120\"}},[_vm._v(\"用户名称\")]),_c('th',{attrs:{\"scope\":\"col\",\"width\":\"120\"}},[_vm._v(\"注册时间\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"用户管理员\")])])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"tax-page user\">\n    <h4>用户管理</h4>\n    <div class=\"content\">\n      <div class=\"options\">\n        <span>注册到我们系统的用户</span>\n      </div>\n      <table class=\"table sample-table table-bordered table-hover\">\n        <thead>\n        <tr>\n          <th scope=\"col\" width=\"120\">用户名称</th>\n          <th scope=\"col\" width=\"120\">注册时间</th>\n          <th scope=\"col\">用户管理员</th>\n        </tr>\n        </thead>\n        <tbody>\n        <tr v-for=\"user in users\" :key=\"user.id\">\n          <td>{{user.name}}</td>\n          <td>{{user.createDate}}</td>\n          <td><span class=\"user-image\" v-for=\"m in user.managers\">{{m.name.substring(0,1)}}</span></td>\n        </tr>\n        </tbody>\n      </table>\n      <nav class=\"pagination\">\n        <el-pagination\n            background\n            layout=\"pager\"\n            :total=\"this.param.recordCount\" :page-size=\"this.param.pageSize\"\n            @current-change=\"changePage\">\n        </el-pagination>\n      </nav>\n    </div>\n  </div>\n</template>\n\n<script>\n  import UserApi from '@/api/system/app';\n\n  export default {\n    name: \"user\",\n    data() {\n      return {\n        users: [],\n        param: {},\n        query: {}\n      }\n    },\n    mounted() {\n      this.$emit('layout:load', \"user\")\n      this.page(1)\n    },\n    methods: {\n      page: function (index) {\n        this.param.pageIndex = index;\n        UserApi.page(this.query, this.param).then(res => {\n          var users = res.obj.data;\n          users.forEach(u => {\n            u.managers = [];\n          })\n          this.users = users;\n          this.param = res.obj.param;\n          this.users.forEach(u => {\n            this.loadManagers(u);\n          })\n        })\n      },\n      changePage: function (index) {\n        this.page(index)\n      },\n      loadManagers: function (u) {\n        UserApi.managers(u.id).then(res => {\n          u.managers = res.obj || []\n        })\n      }\n    }\n  }\n</script>\n\n<style lang=\"stylus\" rel=\"stylesheet/stylus\" scoped>\n  @require \"../../ui/common/stylus/variable.styl\"\n  .user-image {\n    margin-right 5px;\n    display inline-block;\n    width 40px;\n    height 40px;\n    background-color $color-info;\n    color $color-white;\n    line-height 40px;\n    text-align center;\n    border-radius 50%;\n  }\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./user.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./user.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./user.vue?vue&type=template&id=b33824dc&scoped=true&\"\nimport script from \"./user.vue?vue&type=script&lang=js&\"\nexport * from \"./user.vue?vue&type=script&lang=js&\"\nimport style0 from \"./user.vue?vue&type=style&index=0&id=b33824dc&lang=stylus&rel=stylesheet%2Fstylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b33824dc\",\n  null\n  \n)\n\ncomponent.options.__file = \"user.vue\"\nexport default component.exports"],"sourceRoot":""}