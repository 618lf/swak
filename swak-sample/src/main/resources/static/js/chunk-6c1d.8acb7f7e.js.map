{"version":3,"sources":["webpack:///./src/views/system/taxitemCfg.vue?510f","webpack:///src/views/system/taxitemCfg.vue","webpack:///./src/views/system/taxitemCfg.vue?6ac1","webpack:///./src/views/system/taxitemCfg.vue","webpack:///./src/views/system/taxitemCfg.vue?70fe","webpack:///./src/api/system/payItem.js","webpack:///./node_modules/element-ui/packages/button/src/button.vue?9916","webpack:///node_modules/element-ui/packages/button/src/button.vue","webpack:///./node_modules/element-ui/packages/button/src/button.vue?f12e","webpack:///./node_modules/element-ui/packages/button/src/button.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","payitem","name","ref","attrs","model","rules","label-width","label","prop","placeholder","value","callback","$$v","$set","expression","_l","a","key","class","includeTypeName","scope","width","p","index","id","item","on","click","$event","stopPropagation","addParam","delParam","type","row","loading","saveing","save","to","staticRenderFns","taxitemCfgvue_type_script_lang_js_","components","ElButton","src_button","SwakLink","link_link","data","labels","paramSources","required","message","trigger","mounted","$emit","$route","params","loadPayitem","methods","_this","payItem","get","then","res","obj","length","push","splice","_this2","$refs","validate","incomeExpression","taxRateExpression","taxCalExpression","workDurationExpression","subjectDesc","subjectTax","json_params","JSON","stringify","$notify","success","error","system_taxitemCfgvue_type_script_lang_js_","component","Object","componentNormalizer","options","__file","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_node_modules_css_loader_index_js_ref_11_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_11_oneOf_1_2_node_modules_stylus_loader_index_js_ref_11_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_taxitemCfg_vue_vue_type_style_index_0_id_61f64dc4_lang_stylus_rel_stylesheet_2Fstylus_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","Pays","_fetch__WEBPACK_IMPORTED_MODULE_0__","url","method","list","buttonSize","is-disabled","buttonDisabled","is-loading","is-plain","plain","is-round","round","is-circle","circle","disabled","autofocus","nativeType","handleClick","_e","icon","$slots","_t","buttonvue_type_script_lang_js_","inject","elForm","default","elFormItem","props","String","size","Boolean","computed","_elFormItemSize","elFormItemSize","$ELEMENT","evt","src_buttonvue_type_script_lang_js_"],"mappings":"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","file":"js/chunk-6c1d.8acb7f7e.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tax-page tax-subject-cfg\"},[_c('h4',[_vm._v(\"个税项目\"),_c('span',[_vm._v(\"/\")]),_vm._v(_vm._s(_vm.payitem.name||'正常工作时间工资'))]),_c('div',{staticClass:\"content\"},[_c('el-form',{ref:\"inputForm\",attrs:{\"model\":_vm.payitem,\"rules\":_vm.rules,\"label-width\":\"120px\"}},[_c('el-form-item',{attrs:{\"label\":\"项目名称\",\"prop\":\"name\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入项目名称\"},model:{value:(_vm.payitem.name),callback:function ($$v) {_vm.$set(_vm.payitem, \"name\", $$v)},expression:\"payitem.name\"}}),_c('div',{staticClass:\"form-tip\"},[_vm._v(\"请设置合理的项目名称，设置后不建议修改.\")])],1),_c('el-form-item',{attrs:{\"label\":\"项目类型\"}},[_c('div',{staticClass:\"types\"},_vm._l((_vm.labels),function(a){return _c('a',{key:a,class:a == _vm.payitem.includeTypeName?'cur':''},[_vm._v(_vm._s(a))])})),_c('div',{staticClass:\"form-tip\"},[_vm._v(\"个税项目所属的类型，不能修改\")])]),_c('el-form-item',{attrs:{\"label\":\"免税/费用/应税表达式\",\"prop\":\"incomeExpression\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入免税/费用/应税表达式\"},model:{value:(_vm.payitem.incomeExpression),callback:function ($$v) {_vm.$set(_vm.payitem, \"incomeExpression\", $$v)},expression:\"payitem.incomeExpression\"}}),_c('div',{staticClass:\"form-tip\"},[_vm._v(\"全额列入不用填写；差额列入请填入免税的标准；单独计税的项目填入免税（费用）的计算表达式； 三险一金和年金填入应税部分\")])],1),_c('el-form-item',{attrs:{\"label\":\"收入额表达式\",\"prop\":\"taxAbleExpression\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入收入额表达式\"},model:{value:(_vm.payitem.taxAbleExpression),callback:function ($$v) {_vm.$set(_vm.payitem, \"taxAbleExpression\", $$v)},expression:\"payitem.taxAbleExpression\"}}),_c('div',{staticClass:\"form-tip\"},[_vm._v(\"默认是：应税 - 免税（费用）- 其他；稿酬减按百分之七十\")])],1),_c('el-form-item',{attrs:{\"label\":\"工作时长表达式\",\"prop\":\"workDurationExpression\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入工作时长表达式\"},model:{value:(_vm.payitem.workDurationExpression),callback:function ($$v) {_vm.$set(_vm.payitem, \"workDurationExpression\", $$v)},expression:\"payitem.workDurationExpression\"}}),_c('div',{staticClass:\"form-tip\"},[_vm._v(\"有些项目需要按照工作时间来计算所得税，需要配置项目参数.\")])],1),_c('el-form-item',{attrs:{\"label\":\"税率表达式\",\"prop\":\"taxRateExpression\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入税率表达式\"},model:{value:(_vm.payitem.taxRateExpression),callback:function ($$v) {_vm.$set(_vm.payitem, \"taxRateExpression\", $$v)},expression:\"payitem.taxRateExpression\"}}),_c('div',{staticClass:\"form-tip\"},[_vm._v(\"默认根据所得查找工资薪金税率表，单独计算税额的项目才会用到.\")])],1),_c('el-form-item',{attrs:{\"label\":\"税额计算表达式\",\"prop\":\"taxCalExpression\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入税额计算表达式\"},model:{value:(_vm.payitem.taxCalExpression),callback:function ($$v) {_vm.$set(_vm.payitem, \"taxCalExpression\", $$v)},expression:\"payitem.taxCalExpression\"}}),_c('div',{staticClass:\"form-tip\"},[_vm._v(\"所得*税金-速算扣除数，单独计算税额的项目才会用到.\")])],1),_c('el-form-item',{attrs:{\"label\":\"项目参数\"}},[_c('table',{staticClass:\"table sample-table table-bordered table-hover\"},[_c('thead',[_c('tr',[_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"参数名称\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"参数标识\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"数据来源\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"默认数值\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"默认描述\")]),_c('th',{attrs:{\"scope\":\"col\",\"width\":\"40\"}},[_vm._v(\"操作\")])])]),_c('tbody',_vm._l((_vm.payitem.params),function(p,index){return _c('tr',{key:p.id},[_c('td',[_c('el-input',{attrs:{\"placeholder\":\"请输入参数名称\"},model:{value:(p.paramName),callback:function ($$v) {_vm.$set(p, \"paramName\", $$v)},expression:\"p.paramName\"}})],1),_c('td',[_c('el-input',{attrs:{\"placeholder\":\"请输入参数标识\"},model:{value:(p.paramCode),callback:function ($$v) {_vm.$set(p, \"paramCode\", $$v)},expression:\"p.paramCode\"}})],1),_c('td',[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(p.paramType),callback:function ($$v) {_vm.$set(p, \"paramType\", $$v)},expression:\"p.paramType\"}},_vm._l((_vm.paramSources),function(item){return _c('el-option',{key:item.name,attrs:{\"label\":item.label,\"value\":item.name}})}))],1),_c('td',[_c('el-input',{attrs:{\"placeholder\":\"请输入参数数值\"},model:{value:(p.paramValue),callback:function ($$v) {_vm.$set(p, \"paramValue\", $$v)},expression:\"p.paramValue\"}})],1),_c('td',[_c('el-input',{attrs:{\"placeholder\":\"请输入参数描述\"},model:{value:(p.paramDesc),callback:function ($$v) {_vm.$set(p, \"paramDesc\", $$v)},expression:\"p.paramDesc\"}})],1),_c('td',{staticClass:\"td-ops\"},[_c('a',{on:{\"click\":function($event){$event.stopPropagation();_vm.addParam(index)}}},[_vm._v(\"添加\")]),_c('a',{on:{\"click\":function($event){$event.stopPropagation();_vm.delParam(index)}}},[_vm._v(\"删除\")])])])}))]),_c('div',{staticClass:\"form-tip\"},[_vm._v(\"参数标识可以用到上面的表达式中参与计算,如果选择参数配置，请设置参数标识和参数配置中一致。如果时员工属性，请设置为员工的相应属性.\")])]),_c('el-form-item',{attrs:{\"label\":\"税法描述\",\"prop\":\"subjectDesc\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"row\":4,\"placeholder\":\"请输入税法描述\"},model:{value:(_vm.payitem.subjectDesc),callback:function ($$v) {_vm.$set(_vm.payitem, \"subjectDesc\", $$v)},expression:\"payitem.subjectDesc\"}}),_c('div',{staticClass:\"form-tip\"},[_vm._v(\"简单描述此个税项目的用途和税法解释.\")])],1),_c('el-form-item',{attrs:{\"label\":\"税法依据\",\"prop\":\"subjectTax\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"row\":5,\"placeholder\":\"请输入税法依据\"},model:{value:(_vm.payitem.subjectTax),callback:function ($$v) {_vm.$set(_vm.payitem, \"subjectTax\", $$v)},expression:\"payitem.subjectTax\"}}),_c('div',{staticClass:\"form-tip\"},[_vm._v(\"填入法律法规的文件或链接.\")])],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\",\"loading\":_vm.saveing},on:{\"click\":_vm.save}},[_vm._v(\"提交\")]),_c('swak-link',{staticClass:\"el-button\",attrs:{\"to\":\"/system/taxitem\"}},[_vm._v(\"返回\")])],1)],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"tax-page tax-subject-cfg\">\n    <h4>个税项目<span>/</span>{{payitem.name||'正常工作时间工资'}}</h4>\n    <div class=\"content\">\n      <el-form ref=\"inputForm\" :model=\"payitem\" :rules=\"rules\" label-width=\"120px\">\n        <el-form-item label=\"项目名称\" prop=\"name\">\n          <el-input v-model=\"payitem.name\" placeholder=\"请输入项目名称\"></el-input>\n          <div class=\"form-tip\">请设置合理的项目名称，设置后不建议修改.</div>\n        </el-form-item>\n        <el-form-item label=\"项目类型\">\n          <div class=\"types\">\n            <a v-for=\"a in labels\" :class=\"a == payitem.includeTypeName?'cur':''\" :key=\"a\">{{a}}</a>\n          </div>\n          <div class=\"form-tip\">个税项目所属的类型，不能修改</div>\n        </el-form-item>\n        <el-form-item label=\"免税/费用/应税表达式\" prop=\"incomeExpression\">\n          <el-input v-model=\"payitem.incomeExpression\" placeholder=\"请输入免税/费用/应税表达式\"></el-input>\n          <div class=\"form-tip\">全额列入不用填写；差额列入请填入免税的标准；单独计税的项目填入免税（费用）的计算表达式； 三险一金和年金填入应税部分</div>\n        </el-form-item>\n        <el-form-item label=\"收入额表达式\" prop=\"taxAbleExpression\">\n          <el-input v-model=\"payitem.taxAbleExpression\" placeholder=\"请输入收入额表达式\"></el-input>\n          <div class=\"form-tip\">默认是：应税 - 免税（费用）- 其他；稿酬减按百分之七十</div>\n        </el-form-item>\n        <el-form-item label=\"工作时长表达式\" prop=\"workDurationExpression\">\n          <el-input v-model=\"payitem.workDurationExpression\" placeholder=\"请输入工作时长表达式\"></el-input>\n          <div class=\"form-tip\">有些项目需要按照工作时间来计算所得税，需要配置项目参数.</div>\n        </el-form-item>\n        <el-form-item label=\"税率表达式\" prop=\"taxRateExpression\">\n          <el-input v-model=\"payitem.taxRateExpression\" placeholder=\"请输入税率表达式\"></el-input>\n          <div class=\"form-tip\">默认根据所得查找工资薪金税率表，单独计算税额的项目才会用到.</div>\n        </el-form-item>\n        <el-form-item label=\"税额计算表达式\" prop=\"taxCalExpression\">\n          <el-input v-model=\"payitem.taxCalExpression\" placeholder=\"请输入税额计算表达式\"></el-input>\n          <div class=\"form-tip\">所得*税金-速算扣除数，单独计算税额的项目才会用到.</div>\n        </el-form-item>\n        <el-form-item label=\"项目参数\">\n          <table class=\"table sample-table table-bordered table-hover\">\n            <thead>\n            <tr>\n              <th scope=\"col\">参数名称</th>\n              <th scope=\"col\">参数标识</th>\n              <th scope=\"col\">数据来源</th>\n              <th scope=\"col\">默认数值</th>\n              <th scope=\"col\">默认描述</th>\n              <th scope=\"col\" width=\"40\">操作</th>\n            </tr>\n            </thead>\n            <tbody>\n            <tr v-for=\"(p, index) in payitem.params\" :key=\"p.id\">\n              <td>\n                <el-input v-model=\"p.paramName\" placeholder=\"请输入参数名称\"></el-input>\n              </td>\n              <td>\n                <el-input v-model=\"p.paramCode\" placeholder=\"请输入参数标识\"></el-input>\n              </td>\n              <td>\n                <el-select v-model=\"p.paramType\" placeholder=\"请选择\">\n                  <el-option\n                      v-for=\"item in paramSources\"\n                      :key=\"item.name\"\n                      :label=\"item.label\"\n                      :value=\"item.name\">\n                  </el-option>\n                </el-select>\n              </td>\n              <td>\n                <el-input v-model=\"p.paramValue\" placeholder=\"请输入参数数值\"></el-input>\n              </td>\n              <td>\n                <el-input v-model=\"p.paramDesc\" placeholder=\"请输入参数描述\"></el-input>\n              </td>\n              <td class=\"td-ops\"><a @click.stop=\"addParam(index)\">添加</a><a @click.stop=\"delParam(index)\">删除</a></td>\n            </tr>\n            </tbody>\n          </table>\n          <div class=\"form-tip\">参数标识可以用到上面的表达式中参与计算,如果选择参数配置，请设置参数标识和参数配置中一致。如果时员工属性，请设置为员工的相应属性.</div>\n        </el-form-item>\n        <el-form-item label=\"税法描述\" prop=\"subjectDesc\">\n          <el-input v-model=\"payitem.subjectDesc\" type=\"textarea\" :row=\"4\" placeholder=\"请输入税法描述\"></el-input>\n          <div class=\"form-tip\">简单描述此个税项目的用途和税法解释.</div>\n        </el-form-item>\n        <el-form-item label=\"税法依据\" prop=\"subjectTax\">\n          <el-input v-model=\"payitem.subjectTax\" type=\"textarea\" :row=\"5\" placeholder=\"请输入税法依据\"></el-input>\n          <div class=\"form-tip\">填入法律法规的文件或链接.</div>\n        </el-form-item>\n        <el-form-item>\n          <el-button type=\"primary\" :loading=\"saveing\" @click=\"save\">提交</el-button>\n          <swak-link class=\"el-button\" to=\"/system/taxitem\">返回</swak-link>\n        </el-form-item>\n      </el-form>\n    </div>\n  </div>\n</template>\n\n<script>\n  import Pays from '@/api/system/payItem';\n  import SwakLink from \"../../ui/components/link/link\";\n  import ElButton from \"element-ui/packages/button/src/button\";\n\n  export default {\n    components: {\n      ElButton,\n      SwakLink\n    },\n    name: \"tax-subject-cfg\",\n    data() {\n      return {\n        labels: ['全额列入', '差额列入', '单独计算', '税后扣除', '税前扣除', '捐赠扣除', '五险一金', '企业年金', '个人年金', '商业健康保险', '商业养老保险'],\n        paramSources: [\n          {name: 'IMPORT', label: '报表导入'},\n          {name: 'CALCULATE', label: '报表计算'},\n          {name: 'PARAM', label: '参数配置'},\n          {name: 'USER_ATTR', label: '员工属性'}\n        ],\n        payitem: {},\n        rules: {\n          name: [\n            {required: true, message: '请输入项目名称', trigger: 'blur'},\n          ],\n        },\n        saveing: false\n      }\n    },\n    mounted() {\n      this.$emit('layout:load', \"taxitem\")\n      var id = this.$route.params.id;\n      this.loadPayitem(id);\n    },\n    methods: {\n      loadPayitem: function (id) {\n        if (!id) {\n          return;\n        }\n        Pays.get(id).then(res => {\n          this.payitem = res.obj || {}\n          this.payitem.params = this.payitem.params || []\n          if (this.payitem.params.length == 0) {\n            this.payitem.params.push({})\n          }\n        })\n      },\n      addParam: function () {\n        this.payitem.params.push({})\n      },\n      delParam: function (index) {\n        this.payitem.params.splice(index, 1);\n        if (this.payitem.params.length == 0) {\n          this.payitem.params.push({})\n        }\n      },\n      save: function () {\n        this.$refs['inputForm'].validate(res => {\n          if (res) {\n            this.saveing = true;\n            var data = {\n              id: this.payitem.id,\n              name: this.payitem.name,\n              incomeExpression: this.payitem.incomeExpression,\n              taxRateExpression: this.payitem.taxRateExpression,\n              taxCalExpression: this.payitem.taxCalExpression,\n              workDurationExpression: this.payitem.workDurationExpression,\n              subjectDesc: this.payitem.subjectDesc,\n              subjectTax: this.payitem.subjectTax,\n              'json_params': JSON.stringify(this.payitem.params)\n            }\n            Pays.save(data).then(res => {\n              this.$notify.success(\"保存项目成功!\");\n              this.saveing = false;\n            })\n          } else {\n            this.$notify.error(\"表单错误\");\n          }\n        });\n      }\n    }\n  }\n</script>\n\n<style lang=\"stylus\" rel=\"stylesheet/stylus\" scoped>\n  @require \"../../ui/common/stylus/variable.styl\"\n  .tax-subject-cfg {\n    .types {\n      a {\n        display inline-block;\n        padding 3px 10px;\n        background-color $color-light-grey-s\n        margin-right 10px;\n        line-height 30px\n      }\n      .cur {\n        background-color $color-success;\n        color $color-white;\n      }\n    }\n  }\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./taxitemCfg.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./taxitemCfg.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./taxitemCfg.vue?vue&type=template&id=61f64dc4&scoped=true&\"\nimport script from \"./taxitemCfg.vue?vue&type=script&lang=js&\"\nexport * from \"./taxitemCfg.vue?vue&type=script&lang=js&\"\nimport style0 from \"./taxitemCfg.vue?vue&type=style&index=0&id=61f64dc4&lang=stylus&rel=stylesheet%2Fstylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"61f64dc4\",\n  null\n  \n)\n\ncomponent.options.__file = \"taxitemCfg.vue\"\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./taxitemCfg.vue?vue&type=style&index=0&id=61f64dc4&lang=stylus&rel=stylesheet%2Fstylus&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./taxitemCfg.vue?vue&type=style&index=0&id=61f64dc4&lang=stylus&rel=stylesheet%2Fstylus&scoped=true&\"","import fetch from '../fetch'\n\n/**\n * payitem service\n */\nconst Pays = {\n  get: (id) => fetch({\n    url: '/api/manage/payItem/get/' + id,\n    method: 'get'\n  }),\n  list: () => fetch({\n    url: '/api/manage/payItem/list',\n    method: 'get'\n  }),\n  save: (data) => fetch({\n    url: '/api/manage/payItem/save',\n    method: 'post',\n    data: data\n  }),\n};\n\nexport default Pays","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"el-button\",class:[\n    _vm.type ? 'el-button--' + _vm.type : '',\n    _vm.buttonSize ? 'el-button--' + _vm.buttonSize : '',\n    {\n      'is-disabled': _vm.buttonDisabled,\n      'is-loading': _vm.loading,\n      'is-plain': _vm.plain,\n      'is-round': _vm.round,\n      'is-circle': _vm.circle\n    }\n  ],attrs:{\"disabled\":_vm.buttonDisabled || _vm.loading,\"autofocus\":_vm.autofocus,\"type\":_vm.nativeType},on:{\"click\":_vm.handleClick}},[(_vm.loading)?_c('i',{staticClass:\"el-icon-loading\"}):_vm._e(),(_vm.icon && !_vm.loading)?_c('i',{class:_vm.icon}):_vm._e(),(_vm.$slots.default)?_c('span',[_vm._t(\"default\")],2):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <button\n    class=\"el-button\"\n    @click=\"handleClick\"\n    :disabled=\"buttonDisabled || loading\"\n    :autofocus=\"autofocus\"\n    :type=\"nativeType\"\n    :class=\"[\n      type ? 'el-button--' + type : '',\n      buttonSize ? 'el-button--' + buttonSize : '',\n      {\n        'is-disabled': buttonDisabled,\n        'is-loading': loading,\n        'is-plain': plain,\n        'is-round': round,\n        'is-circle': circle\n      }\n    ]\"\n  >\n    <i class=\"el-icon-loading\" v-if=\"loading\"></i>\n    <i :class=\"icon\" v-if=\"icon && !loading\"></i>\n    <span v-if=\"$slots.default\"><slot></slot></span>\n  </button>\n</template>\n<script>\n  export default {\n    name: 'ElButton',\n\n    inject: {\n      elForm: {\n        default: ''\n      },\n      elFormItem: {\n        default: ''\n      }\n    },\n\n    props: {\n      type: {\n        type: String,\n        default: 'default'\n      },\n      size: String,\n      icon: {\n        type: String,\n        default: ''\n      },\n      nativeType: {\n        type: String,\n        default: 'button'\n      },\n      loading: Boolean,\n      disabled: Boolean,\n      plain: Boolean,\n      autofocus: Boolean,\n      round: Boolean,\n      circle: Boolean\n    },\n\n    computed: {\n      _elFormItemSize() {\n        return (this.elFormItem || {}).elFormItemSize;\n      },\n      buttonSize() {\n        return this.size || this._elFormItemSize || (this.$ELEMENT || {}).size;\n      },\n      buttonDisabled() {\n        return this.disabled || (this.elForm || {}).disabled;\n      }\n    },\n\n    methods: {\n      handleClick(evt) {\n        this.$emit('click', evt);\n      }\n    }\n  };\n</script>\n","import mod from \"-!../../../../cache-loader/dist/cjs.js??ref--12-0!../../../../thread-loader/dist/cjs.js!../../../../babel-loader/lib/index.js!../../../../vue-loader/lib/index.js??vue-loader-options!./button.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../cache-loader/dist/cjs.js??ref--12-0!../../../../thread-loader/dist/cjs.js!../../../../babel-loader/lib/index.js!../../../../vue-loader/lib/index.js??vue-loader-options!./button.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./button.vue?vue&type=template&id=2b917cf2&\"\nimport script from \"./button.vue?vue&type=script&lang=js&\"\nexport * from \"./button.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"button.vue\"\nexport default component.exports"],"sourceRoot":""}