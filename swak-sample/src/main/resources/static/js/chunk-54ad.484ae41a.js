(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-54ad"],{"72dc":function(t,e,i){"use strict";var a=i("c8ae"),n=i.n(a);n.a},8063:function(t,e,i){},b3b5:function(t,e,i){"use strict";var a=i("8063"),n=i.n(a);n.a},b490:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"tax-page manager"},[i("h4",[t._v("帐户管理员")]),i("div",{staticClass:"content"},[i("div",{staticClass:"options"},[i("span",[t._v("绑定微信用户之后，微信用户可以登录后台、报表管理等单位管理操作")]),i("div",{staticClass:"btns"},[i("el-button",{attrs:{type:"primary"},on:{click:t.addManager}},[t._v("添加管理员")])],1)]),i("table",{staticClass:"table sample-table table-bordered table-hover"},[t._m(0),i("tbody",t._l(t.managers,function(e){return i("tr",{key:e.id},[i("td",[i("span",[t._v(t._s(e.headimg))]),i("span",[t._v(t._s(e.name))])]),i("td",[t._v(t._s(e.createDate)+"绑定")]),i("td",[i("a",{staticClass:"del",attrs:{"data-id":e.id},on:{click:function(e){return e.stopPropagation(),t.delManager(e)}}},[t._v("解除绑定")])])])}))])]),i("add-user",{attrs:{visible:t.addManagerDialog.visible},on:{"update:visible":function(e){t.$set(t.addManagerDialog,"visible",e)}}})],1)},n=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("thead",[i("tr",[i("th",{attrs:{scope:"col",width:"220"}},[t._v("微信")]),i("th",{attrs:{scope:"col",width:"120"}},[t._v("状态")]),i("th",{attrs:{scope:"col"}},[t._v("操作")])])])}],s=i("df33"),o=i("d188"),l=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"user-table-select"},[i("el-dialog",{attrs:{title:"添加管理员",visible:t.visible,"before-close":t.doCancel},on:{"update:visible":function(e){t.visible=e}}},[i("div",{staticClass:"qrcode-bar"},[i("div",{staticClass:"-inner"},[i("div",{staticClass:"-login"},[i("a",{staticClass:"-image"},[i("img",{attrs:{src:this.qrcode}})]),i("div",{staticClass:"-desc"},[t._v("微信扫一扫，成为管理员")])])])])])],1)},c=[],r={name:"add-user",data:function(){return{qrcode:"",token:"",timer:null}},props:{visible:{type:Boolean,default:!1}},watch:{visible:function(){this.visible&&this.loadQrCode()}},methods:{loadQrCode:function(){var t=this;s["a"].qrcode().then(function(e){t.token=e.obj.token,t.qrcode=e.obj.qrcode,t.touchTask()})},touchTask:function(){var t=this;null!=this.timer&&clearTimeout(this.timer),this.timer=setTimeout(function(){t.doTouch()},1e3)},doTouch:function(){var t=this;s["a"].touch(this.token).then(function(e){e.success||t.touchTask()})},doCancel:function(){this.$emit("update:visible",!1),null!=this.timer&&clearTimeout(this.timer)}},destroyed:function(){null!=this.timer&&clearTimeout(this.timer)}},d=r,u=(i("b3b5"),i("2877")),f=Object(u["a"])(d,l,c,!1,null,"6557b993",null);f.options.__file="addUser.vue";var b=f.exports,h={components:{AddUser:b,ElButton:o["a"]},name:"manager",data:function(){return{managers:[],addManagerDialog:{visible:!1}}},mounted:function(){this.$emit("layout:load","manager"),this.load()},methods:{load:function(){var t=this;s["a"].managers().then(function(e){t.managers=e.obj})},addManager:function(){this.addManagerDialog.visible=!0},delManager:function(t){var e=this,i=t.target.getAttribute("data-id");this.$confirm("确认删除此管理员，删除之后此用户不能登录后台，如果切换了管理员请重置AppSecret","确认删除？",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){s["a"].delete(i).then(function(t){e.load(),e.$notify({title:"成功",message:"删除成功!",type:"success"})})}).catch(function(){})}}},m=h,v=(i("72dc"),Object(u["a"])(m,a,n,!1,null,"53d63d3a",null));v.options.__file="manager.vue";e["default"]=v.exports},c8ae:function(t,e,i){},d188:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("button",{staticClass:"el-button",class:[t.type?"el-button--"+t.type:"",t.buttonSize?"el-button--"+t.buttonSize:"",{"is-disabled":t.buttonDisabled,"is-loading":t.loading,"is-plain":t.plain,"is-round":t.round,"is-circle":t.circle}],attrs:{disabled:t.buttonDisabled||t.loading,autofocus:t.autofocus,type:t.nativeType},on:{click:t.handleClick}},[t.loading?i("i",{staticClass:"el-icon-loading"}):t._e(),t.icon&&!t.loading?i("i",{class:t.icon}):t._e(),t.$slots.default?i("span",[t._t("default")],2):t._e()])},n=[],s={name:"ElButton",inject:{elForm:{default:""},elFormItem:{default:""}},props:{type:{type:String,default:"default"},size:String,icon:{type:String,default:""},nativeType:{type:String,default:"button"},loading:Boolean,disabled:Boolean,plain:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean},computed:{_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},buttonSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},buttonDisabled:function(){return this.disabled||(this.elForm||{}).disabled}},methods:{handleClick:function(t){this.$emit("click",t)}}},o=s,l=i("2877"),c=Object(l["a"])(o,a,n,!1,null,null,null);c.options.__file="button.vue";e["a"]=c.exports}}]);
//# sourceMappingURL=chunk-54ad.484ae41a.js.map